{% extends 'CC/base.html' %}
{% block content %}
<br/>
<h1 class="text-center">Pending Certificates</h1>
<br/>

<!-- ================= Pending Conduct Certificates ================= -->
<h3>Conduct Certificates</h3>
<table class="table table-striped table-bordered" style="width: 90%; margin: auto;">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>Academic Year</th>
            <th>Degree</th>
            <th>Branch</th>
            <th>Signature</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for cert in pending_conduct %}
        <tr>
            <td>{{ cert.name }}</td>
            <td>{{ cert.academic_year_from }} - {{ cert.academic_year_to }}</td>
            <td>{{ cert.degree }}</td>
            <td>{{ cert.branch }}</td>
            <td><img src="{{ cert.signature.url }}" width="100"></td>
            <td>
                <a href="{% url 'approve_certificate' cert.id 'conduct' %}" class="btn btn-success btn-sm">Approve</a>
                <a href="{% url 'reject_certificate' cert.id 'conduct' %}" class="btn btn-danger btn-sm">Reject</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6" class="text-center">No pending conduct certificates</td></tr>
        {% endfor %}
    </tbody>
</table>
<br/>

<!-- ================= Pending Transfer Certificates ================= -->
<h3>Transfer Certificates</h3>
<table class="table table-striped table-bordered" style="width: 90%; margin: auto;">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>DOB</th>
            <th>Admission No</th>
            <th>Course</th>
            <th>Date of Leaving</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for cert in pending_transfer %}
        <tr>
            <td>{{ cert.student_name }}</td>
            <td>{{ cert.dob }}</td>
            <td>{{ cert.admission_no }}</td>
            <td>{{ cert.course }}</td>
            <td>{{ cert.date_of_leaving }}</td>
            <td>
                <a href="{% url 'approve_certificate' cert.id 'transfer' %}" class="btn btn-success btn-sm">Approve</a>
                <a href="{% url 'reject_certificate' cert.id 'transfer' %}" class="btn btn-danger btn-sm">Reject</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6" class="text-center">No pending transfer certificates</td></tr>
        {% endfor %}
    </tbody>
</table>
<br/>

<!-- ================= Pending Employee Policies ================= -->
<h3>Employee Joining Policies</h3>
<table class="table table-striped table-bordered" style="width: 90%; margin: auto;">
    <thead>
        <tr>
            <th>Employee Name</th>
            <th>Emp Code</th>
            <th>Designation</th>
            <th>Joining Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for cert in pending_employee %}
        <tr>
            <td>{{ cert.employee_name }}</td>
            <td>{{ cert.emp_code }}</td>
            <td>{{ cert.designation }}</td>
            <td>{{ cert.joining_date }}</td>
            <td>
                <a href="{% url 'approve_certificate' cert.id 'employee' %}" class="btn btn-success btn-sm">Approve</a>
                <a href="{% url 'reject_certificate' cert.id 'employee' %}" class="btn btn-danger btn-sm">Reject</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="text-center">No pending employee policies</td></tr>
        {% endfor %}
    </tbody>
</table>
<br/>

<!-- ================= Pending Rental Agreements ================= -->
<h3>Rental Agreements</h3>
<table class="table table-striped table-bordered" style="width: 90%; margin: auto;">
    <thead>
        <tr>
            <th>Tenant Name</th>
            <th>Landlord Name</th>
            <th>Property Address</th>
            <th>Rent Amount</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for cert in pending_rental %}
        <tr>
            <td>{{ cert.tenant_name }}</td>
            <td>{{ cert.landlord_name }}</td>
            <td>{{ cert.property_address }}</td>
            <td>{{ cert.rent_amount }}</td>
            <td>{{ cert.start_date }}</td>
            <td>{{ cert.end_date }}</td>
            <td>
                <a href="{% url 'approve_certificate' cert.id 'rental' %}" class="btn btn-success btn-sm">Approve</a>
                <a href="{% url 'reject_certificate' cert.id 'rental' %}" class="btn btn-danger btn-sm">Reject</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="7" class="text-center">No pending rental agreements</td></tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
