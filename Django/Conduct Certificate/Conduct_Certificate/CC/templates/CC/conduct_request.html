{% extends "CC/base.html" %}


{% block content %}
{% load static %}
{% load widget_tweaks %}

<form method="POST" enctype="multipart/form-data" class="mt-5">
  {% csrf_token %}

  <div class="container" style="max-width: 720px;">
    <div class="card border-0 shadow-sm p-5 rounded-4">
      <h3 class="text-center mb-5 fw-semibold text-dark">Certificate Request</h3>

      <!-- Form fields -->
      {% for field in form %}
        <div class="mb-4">
          <label for="{{ field.id_for_label }}" class="form-label fw-medium">
            {{ field.label }}
          </label>
          {{ field|add_class:"form-control" }}

          {% if form.is_bound and field.errors %}
            <div class="text-danger small mt-1">
              {{ field.errors|striptags }}
            </div>
          {% endif %}
        </div>
      {% endfor %}

      <!-- Certificate Template Selection -->
      <div class="mb-4">
        <label class="form-label fw-semibold mb-3">Select Certificate Template</label>
        <div class="row g-3">
          <div class="col-md-6">
            <div class="form-check p-3 h-100">
              <input class="form-check-input me-2" type="radio" id="template1" name="template_choice"
                     value="template1" onchange="this.form.submit()"
                     {% if selected_template == 'template1' %}checked{% endif %}>
              <label class="form-check-label fw-medium" for="template1">Conduct Certificate</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-check p-3  h-100">
              <input class="form-check-input me-2" type="radio" id="template2" name="template_choice"
                     value="template2" onchange="this.form.submit()"
                     {% if selected_template == 'template2' %}checked{% endif %}>
              <label class="form-check-label fw-medium" for="template2">Transfer Certificate</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-check p-3  h-100">
              <input class="form-check-input me-2" type="radio" id="template3" name="template_choice"
                     value="template3" onchange="this.form.submit()"
                     {% if selected_template == 'template3' %}checked{% endif %}>
              <label class="form-check-label fw-medium" for="template3">Employee Joining Policy</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-check p-3 h-100">
              <input class="form-check-input me-2" type="radio" id="template4" name="template_choice"
                     value="template4" onchange="this.form.submit()"
                     {% if selected_template == 'template4' %}checked{% endif %}>
              <label class="form-check-label fw-medium" for="template4">Rental Agreement</label>
            </div>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary px-5 py-2 rounded-pill shadow-sm">
          <i class="bi bi-check-circle me-2"></i> Submit Request
        </button>
      </div>
    </div>
  </div>
</form>

{% endblock %}
