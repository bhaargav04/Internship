{% extends 'CC/base.html' %}
{% load static %}
{% block content %}

<!-- PAGE 1 (CSS-only Stamp Paper Style) -->
<div id="certificate" 
     style="width: 800px; min-height: 1120px; margin: auto; padding: 80px 60px;
            font-family: 'Georgia', serif; font-size: 1.05rem; line-height: 1.8;
            background: repeating-linear-gradient(
                45deg, #fdfcf7, #fdfcf7 20px, #f7f3e9 20px, #f7f3e9 40px
            );
            border: 10px double #222;
            box-shadow: 0 0 20px rgba(0,0,0,0.4);
            position: relative;">

    <!-- Emblem / Heading -->
    <div style="text-align: center; border: 4px solid #000; padding: 20px; background: #faf0d0;">
        <h2 style="font-size: 1.6rem; font-weight: bold; letter-spacing: 1px; text-transform: uppercase; margin-bottom: 10px;">
            Government of India
        </h2>
        <h1 style="font-size: 2.4rem; margin: 15px 0; color: darkred; text-transform: uppercase;">
            ₹100 Non-Judicial Stamp Paper
        </h1>
        <p style="font-size: 1rem; color: #333;">(Digital Simulation)</p>
    </div>

    <!-- Rental Agreement Text -->
    <h1 style="text-align: center; font-size: 2rem; font-weight: bold; margin-top: 40px; text-transform: uppercase; color: #000;">
        RENTAL AGREEMENT
    </h1>

    <p style="margin-top: 40px; text-align: justify;">
        THIS RENTAL AGREEMENT is made on <strong>{{ cert.start_date|date:"d M Y" }}</strong>, 
        at <strong>{{ cert.jurisdiction }}</strong>, BETWEEN 
        <strong>{{ cert.landlord_name }}</strong>, residing at 
        <strong>{{ cert.landlord_address }}</strong> (hereinafter referred to as the “Landlord”), 
        AND <strong>{{ cert.tenant_name }}</strong>, residing at 
        <strong>{{ cert.tenant_address }}</strong> (hereinafter referred to as the “Tenant”).
    </p>

    <h3 style="margin-top: 30px;">1. Property Details</h3>
    <p>The Tenant agrees to occupy the premises at <strong>{{ cert.property_address }}</strong> solely for residential purposes.</p>

    <h3 style="margin-top: 20px;">2. Rent & Security Deposit</h3>
    <p>The monthly rent shall be <strong>{{ cert.rent_amount }}</strong>, payable on or before the 5th of each month. 
       A refundable security deposit of <strong>{{ cert.security_deposit }}</strong> shall be refunded subject to deductions for damages/unpaid dues.</p>

    <h3 style="margin-top: 20px;">3. Duration</h3>
    <p>This Agreement shall remain valid from <strong>{{ cert.start_date|date:"d M Y" }}</strong> 
       to <strong>{{ cert.end_date|date:"d M Y" }}</strong>, unless terminated earlier.</p>
</div>

<!-- PAGE BREAK -->
<div style="page-break-before: always;"></div>

<!-- PAGE 2 -->
<div style="width: 800px; min-height: 1120px; margin: auto; padding: 80px 60px;
            font-family: 'Georgia', serif; font-size: 1.05rem; line-height: 1.8; background: #fff; border: 1px solid #000;">

    <h3>4. Maintenance & Utilities</h3>
    <p>The Tenant shall maintain the premises in good condition and bear utility charges. Structural repairs shall be borne by the Landlord.</p>

    <h3>5. Restrictions</h3>
    <p>The Tenant shall not sublet or engage in unlawful activities on the premises without prior consent.</p>

    <h3>6. Termination</h3>
    <p>Either party may terminate this Agreement by one month’s written notice.</p>

    <h3>7. Dispute Resolution</h3>
    <p>Disputes shall fall under the jurisdiction of <strong>{{ cert.jurisdiction }}</strong>.</p>
</div>

<!-- PAGE BREAK -->
<div style="page-break-before: always;"></div>

<!-- PAGE 3 -->
<div style="width: 800px; min-height: 1120px; margin: auto; padding: 80px 60px;
            font-family: 'Georgia', serif; font-size: 1.05rem; line-height: 1.8; background: #fff; border: 1px solid #000;">

    <h3>8. Indemnity</h3>
    <p>The Tenant indemnifies the Landlord against misuse of premises leading to legal disputes.</p>

    <h3>9. Notices</h3>
    <p>All notices shall be in writing, served at the addresses provided above.</p>

    <h3>10. Governing Law</h3>
    <p>This Agreement is governed by the laws of India.</p>

    <!-- Signatures -->
    <div style="margin-top: 80px; display: flex; justify-content: space-between;">
        <div>
            <p><strong>Tenant</strong></p>
            <p>Name: {{ cert.tenant_name }}</p>
            <p>Signature:</p>
            <img src="{{ cert.signature.url }}" width="120">
        </div>
        <div style="text-align: right;">
            <p><strong>Landlord</strong></p>
            <p>Name: {{ cert.landlord_name }}</p>
            <p>Signature:</p>
            {% if cert.principal_signature %}
                <img src="{{ cert.principal_signature.url }}" width="120">
            {% else %}
                <p style="color: gray; font-style: italic;">(Pending)</p>
            {% endif %}
        </div>
    </div>

    <!-- Witness -->
    <div style="margin-top: 60px;">
        <p><strong>Witness 1:</strong> _________________________</p>
        <p><strong>Witness 2:</strong> _________________________</p>
    </div>
</div>

{% endblock %}
